schema: '2.0'
stages:
  preprocess:
    cmd: python3 pre_process.py
    deps:
    - path: Activity_Recognition_Logs.zip
      md5: 05061832277bcebe4cde53dfd13fbde6
      size: 2843808
    - path: pre_process.py
      md5: 9963780b0fcce3d2e69cdb3145cb3476
      size: 6342
    params:
      params.yaml:
        preprocessing.key: acc
        preprocessing.stride: 2
        preprocessing.window: 10
    outs:
    - path: data
      md5: 88567c43de8f1bcf1f59f642fb747c55.dir
      size: 25417776
      nfiles: 34
  classify:
    cmd: python3 classify.py
    deps:
    - path: classify.py
      md5: 6d404b4f5cc6ba84b20ad6cd49b74a1e
      size: 9234
    - path: data
      md5: 88567c43de8f1bcf1f59f642fb747c55.dir
      size: 25417776
      nfiles: 34
    params:
      params.yaml:
        feature_selector:
          name: sklearn.feature_selection.SelectKBest
          k:
          - 10
          - 30
          - 50
          - 100
        model:
          name: sklearn.linear_model.SGDClassifier
          max_iter:
          - 1000
          penalty:
          - l2
          - l1
          - elasticnet
          alpha:
          - 1e-05
          - 0.0001
          - 0.01
          - 1
          - 10
          - 100
          l1_ratio:
          - 0.1
          - 0.2
          - 0.3
          - 0.5
          - 0.7
        pipeline:
        - preprocessor
        - feature_selector
        - model
        preprocessor:
          name: sklearn.preprocessing.StandardScaler
          with_std:
          - true
          with_mean:
          - true
    outs:
    - path: results/balance.png
      md5: 5f82e0991a5916369fe88dfdc804d73c
      size: 17485
    - path: results/classification.png
      md5: 662579610b08764993f0164aa4525d8a
      size: 30003
    - path: results/confusion.png
      md5: 45e3aee0fb05b4e905a1d944294b26a5
      size: 26716
    - path: results/cross_validation.png
      md5: ae3de37a7a182fdd66ac933443ead785
      size: 25117
    - path: results/cv_scores.csv
      md5: bccfad83ae0ed2e4b80506f2abe739f3
      size: 151075
    - path: results/dropping.png
      md5: 99f783ae7c341abb58c30ded5eeb835c
      size: 59627
    - path: results/learning.png
      md5: ff14af1d206245277bf622172bbfe1a3
      size: 47687
    - path: results/pca.png
      md5: 80f9efec458991e25c0f64993d30ec5d
      size: 119748
    - path: results/roc_auc.png
      md5: 7c78120fdefc91b8b3a28915a4f85037
      size: 56288
    - path: results/scores.json
      md5: 0b02bec48199608e2fb662df3e067523
      size: 77
  print:
    cmd: cat params.yaml
  print-params:
    cmd: cat params.yaml
  plot:
    cmd: dvc plots show -o results --html-template results/template.html
    deps:
    - path: classify.py
      md5: 6d404b4f5cc6ba84b20ad6cd49b74a1e
      size: 9234
    - path: results/scores.json
      md5: 0b02bec48199608e2fb662df3e067523
      size: 77
    outs:
    - path: results/index.html
      md5: d6ef553e4abdcaad6ce0cbb752ccf875
      size: 4798
      isexec: true
  server:
    cmd: cd results  && python -m http.server &
    deps:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
  score:
    cmd: dvc metrics show --all-branches --all-commits --md > results/table.md
    deps:
    - path: results/index.html
      md5: d6ef553e4abdcaad6ce0cbb752ccf875
      size: 4798
    - path: results/scores.json
      md5: 0b02bec48199608e2fb662df3e067523
      size: 77
    outs:
    - path: results/table.md
      md5: d57fe75ca5ea9c3575d91473a2ef1026
      size: 12641
      isexec: true
