schema: '2.0'
stages:
  preprocess:
    cmd: python3 pre_process.py
    deps:
    - path: Activity_Recognition_Logs.zip
      md5: 05061832277bcebe4cde53dfd13fbde6
      size: 2843808
    - path: pre_process.py
      md5: 2792334a983b361240cf1cd22fc8fefb
      size: 6166
    params:
      params.yaml:
        preprocessing.key: acc
        preprocessing.stride: 2
        preprocessing.window: 10
    outs:
    - path: data
      md5: a67ff8934c671585094a1086ea16d77e.dir
      size: 25417776
      nfiles: 34
  classify:
    cmd: python3 classify.py
    deps:
    - path: classify.py
      md5: 17fb76dc297a5ac4bd16da75291340a5
      size: 9104
    - path: data
      md5: a67ff8934c671585094a1086ea16d77e.dir
      size: 25417776
      nfiles: 34
    params:
      params.yaml:
        feature_selector:
          name: sklearn.feature_selection.SelectKBest
          k: 100
        grid:
          penalty:
          - l2
          - l1
          - elasticnet
          alpha:
          - 1e-05
          - 1e-05
          - 0.0001
          - 0.001
          - 0.01
          - 0.1
          - 1
          - 10
          - 100
          - 1000
          l1_ratio:
          - 0.1
          - 0.15
          - 0.2
          - 0.25
          - 0.3
          - 0.5
          k:
          - 10
          - 20
          - 30
          - 50
          - 100
        model:
          name: sklearn.linear_model.SGDClassifier
          max_iter: 1000
          alpha: 0.0001
          l1_ratio: 0.15
        pipeline:
        - preprocessor
        - feature_selector
        - model
        preprocessor:
          name: sklearn.preprocessing.StandardScaler
          with_std: true
          with_mean: true
    outs:
    - path: results/balance.png
      md5: 430eea2d627ff7ab9c787c086bdafcc5
      size: 17485
      isexec: true
    - path: results/classification.png
      md5: b35bbaf10624451cc162d551379be828
      size: 27748
      isexec: true
    - path: results/confusion.png
      md5: 3c0c2f29513d33da1c981199f938d8d9
      size: 26753
      isexec: true
    - path: results/cross_validation.png
      md5: ae555fd0cce4a15e9bbf9d965f360b69
      size: 25002
      isexec: true
    - path: results/dropping.png
      md5: d59ef4fca1df418e9ca4537c3798517b
      size: 58666
      isexec: true
    - path: results/learning.png
      md5: db821ac33b3ebc39e6d3a6baa1bc1d94
      size: 47302
      isexec: true
    - path: results/pca.png
      md5: 3c5fae8d1d4b55e80b2c476f341e27c0
      size: 120805
      isexec: true
    - path: results/roc_auc.png
      md5: decb3c7f1824d2440fa10f5387b907b5
      size: 55584
      isexec: true
    - path: results/scores.json
      md5: 1196925acef874a4e78a3b443a8f195a
      size: 77
      isexec: true
  print:
    cmd: cat params.yaml
  print-params:
    cmd: cat params.yaml
  plot:
    cmd: dvc plots show -o results
    deps:
    - path: classify.py
      md5: 17fb76dc297a5ac4bd16da75291340a5
      size: 9104
    - path: results
      md5: b960912657e02b5b2c00eaa591e52741.dir
      size: 798318
      nfiles: 22
  server:
    cmd: cd results  && python -m http.server &
    deps:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
  score:
    cmd: dvc metrics show --all-branches --all-commits --md > results/table.md
    deps:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
    - path: results/scores.json
      md5: 1196925acef874a4e78a3b443a8f195a
      size: 77
