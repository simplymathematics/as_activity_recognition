schema: '2.0'
stages:
  preprocess:
    cmd: python3 pre_process.py
    deps:
    - path: Activity_Recognition_Logs.zip
      md5: 05061832277bcebe4cde53dfd13fbde6
      size: 2843808
    - path: pre_process.py
      md5: 2792334a983b361240cf1cd22fc8fefb
      size: 6166
    params:
      params.yaml:
        preprocessing.key: acc
        preprocessing.stride: 2
        preprocessing.window: 10
    outs:
    - path: data
      md5: a67ff8934c671585094a1086ea16d77e.dir
      size: 25417776
      nfiles: 34
  classify:
    cmd: python3 classify.py
    deps:
    - path: classify.py
      md5: bcb9c918fd8ea152052302d7c4b3dda4
      size: 9230
    - path: data
      md5: a67ff8934c671585094a1086ea16d77e.dir
      size: 25417776
      nfiles: 34
    params:
      params.yaml:
        feature_selector:
          name: sklearn.feature_selection.SelectKBest
          k:
          - 10
          - 30
          - 50
          - 100
        model:
          name: sklearn.linear_model.SGDClassifier
          max_iter:
          - 1000
          penalty:
          - l2
          - l1
          - elasticnet
          alpha:
          - 1e-05
          - 0.0001
          - 0.01
          - 1
          - 10
          - 100
          l1_ratio:
          - 0.1
          - 0.2
          - 0.3
          - 0.5
          - 0.7
        pipeline:
        - preprocessor
        - feature_selector
        - model
        preprocessor:
          name: sklearn.preprocessing.StandardScaler
          with_std:
          - true
          with_mean:
          - true
    outs:
    - path: results/balance.png
      md5: 430eea2d627ff7ab9c787c086bdafcc5
      size: 17485
    - path: results/classification.png
      md5: 08722a4073dd2ed84e5e2014454a53ff
      size: 27754
    - path: results/confusion.png
      md5: aa21f9099e2ed1cddcbdf173e82e8828
      size: 26646
    - path: results/cross_validation.png
      md5: 9239fd0f2e286b76148ae2dda2cfef54
      size: 25069
    - path: results/cv_scores.json
      md5: 6fc997aa65adf248d5ce3b0b20df27bd
      size: 151405
    - path: results/dropping.png
      md5: 30e1a5dadb7f20485532cd41ea4ced66
      size: 55959
    - path: results/learning.png
      md5: 9e4cc2a880b5fd2bdd1dce6bb92ab2b2
      size: 42514
    - path: results/pca.png
      md5: f4a28fef2a87492fccd3db42f4b92015
      size: 97583
    - path: results/roc_auc.png
      md5: b5ea4dc024a273d542cd65c6bb0e8bc7
      size: 55583
    - path: results/scores.json
      md5: 1ad69d3d8b43d2ac8893999da4d4d024
      size: 77
  print:
    cmd: cat params.yaml
  print-params:
    cmd: cat params.yaml
  plot:
    cmd: dvc plots show -o results
    deps:
    - path: classify.py
      md5: bcb9c918fd8ea152052302d7c4b3dda4
      size: 9230
    - path: results/scores.json
      md5: 1ad69d3d8b43d2ac8893999da4d4d024
      size: 77
    outs:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
      isexec: true
  server:
    cmd: cd results  && python -m http.server &
    deps:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
  score:
    cmd: dvc metrics show --all-branches --all-commits --md > results/table.md
    deps:
    - path: results/index.html
      md5: aa9bbda3d626c4b58a4bac58ec64a922
      size: 4611
    - path: results/scores.json
      md5: 1ad69d3d8b43d2ac8893999da4d4d024
      size: 77
    outs:
    - path: results/table.md
      md5: 5a941f76922dd1895c7085b62abaa3d4
      size: 10903
      isexec: true
